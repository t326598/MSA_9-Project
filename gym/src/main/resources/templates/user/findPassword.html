<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비밀번호 찾기</title>
    <link rel="stylesheet" href="/css/home/join.css">
</head>
<body class="fullBody">
    <th:block th:replace="~{fragment/header::header}"></th:block>
    
   
    <div class="top-space"></div>

    <div class="container1 col-12 col-lg-4" style="margin-top: 50px; margin-bottom: 50px;" id="contain-box">
        <div class="px-4 py-5 mt-5 text-center">
            <img class="FITlogo" src="/img/logo2.png" alt="">
            <h1> 비밀번호 찾기</h1>
        </div>

        <!-- 회원가입 영역 -->
        <main class="form-signin login-box w-100 m-auto" >
            <form id="form" action="findPassword" method="post" class="needs-validation" onsubmit="return validateForm(event)">

                <input type="hidden" id="phone" name="phone" />
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

                <div class="centerdhkwnj">
                <div class="input-group my-2" >
                    <label for="name">이름</label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="이름을 입력해주세요.">
                </div>
                <div class="input-group my-2" >
                    <label for="id">아이디</label>
                    <input type="text" class="form-control" id="id" name="id" placeholder="아이디를 입력해주세요.">
                </div>
                <div class="input-group my-2 phone-group">
                    <label for="phone">연락처</label>
                    <div class="phone-row">
                        <input type="text" class="form-control" id="phone1" name="phone1" placeholder="010" pattern="010" title="3자리 숫자여야 합니다.">
                        <span>-</span>
                        <input type="text" class="form-control" id="phone2" name="phone2" placeholder="1234" pattern="\d{4}" title="4자리 숫자여야 합니다.">
                        <span>-</span>
                        <input type="text" class="form-control" id="phone3" name="phone3" placeholder="5678" pattern="\d{4}" title="4자리 숫자여야 합니다.">
                    </div>
                </div>
                
                <div class="input-group my-2">
                    <label for="question">질문</label>
                    <select class="form-control"  name="question" id="question">
                        <option value="강아지 이름은?">강아지 이름은?</option>
                        <option value="졸업한 초등학교는?">졸업한 초등학교는?</option>
                        <option value="내 보물 1호는?">내 보물 1호는?</option>
                        <option value="내 별명은?">내 별명은?</option>

                    </select>
                </div>
                
                <div class="input-group my-2" style="margin-bottom: 20px;">
                    <label for="answer">답변</label>
                    <input type="text" class="form-control" id="answer" name="answer" placeholder="답변">
                </div>
            </div>
                    <button class="btn-join"  type="submit">찾기</button>
                </form>
            </div>
        </main>

    </div>


   

    <script>

function validateForm(event) {
    // 연락처 합치기
    const phone1 = document.getElementById('phone1').value.trim();
    const phone2 = document.getElementById('phone2').value.trim();
    const phone3 = document.getElementById('phone3').value.trim();
    const phone = `${phone1}${phone2}${phone3}`; // 연락처 합치기

    // 폼의 숨겨진 phone 필드에 값 설정
    document.getElementById('phone').value = phone;

    // 입력 필드를 배열로 정의
    const fields = [
        { id: "name", label: "이름" },
        { id: "id", label: "아이디" },
        { id: "phone1", label: "전화번호(앞자리)" },
        { id: "phone2", label: "전화번호(중간자리)" },
        { id: "phone3", label: "전화번호(끝자리)" },
        { id: "question", label: "질문" },
        { id: "answer", label: "답변" },
    ];

    // 모든 필드 확인
    for (let field of fields) {
        const input = document.getElementById(field.id);
        if (!input.value.trim()) { // 값이 비어있으면 경고창
            alert(`${field.label}을(를) 입력해주세요.`);
            return false; // 폼 제출 중단
        }
    }

    // 모든 필드가 채워졌을 경우 폼 제출
    return true;
}
    </script>

     
<th:block th:replace="~{fragment/footer::footer}"></th:block>
<th:block th:replace="~{fragment/script::script}"></th:block>    
</body>
</html>




   

